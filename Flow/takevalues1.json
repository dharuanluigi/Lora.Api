{"flow":{"onboarding":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"80e06e17-0349-4f7d-a7de-fe48872bc8fd","type":"text/plain","content":"User input"},"editable":false,"deletable":false,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:3557"}],"$conditionOutputs":[{"stateId":"welcome","conditions":[{"source":"input","comparison":"matches","values":[".*"],"$$hashKey":"object:3573"}],"$id":"96a0dc40-13aa-41f2-82fd-d7bb7c608f42","$connId":"con_3","$invalid":false,"$$hashKey":"object:3560"}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"2f9e9714-99bf-48cb-9105-26fc01af9589","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"objSkillSetup\"","$invalid":false,"settings":{"function":"run","source":"function run() {\n\treturn {\n        apiUrl: \"https://lora-api.fly.dev\"\n    }\n}","inputVariables":[],"outputVariable":"objSkillSetup","LocalTimeZoneEnabled":false},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-c93197dc-5e5f-4d7a-93f0-66cdf5a43bf1","label":"ExecuteScript","background":"#FF961E","canChangeBackground":false},{"id":"blip-tag-42677336-1c47-401d-a21f-9802644c2268","label":"UserInput","background":"#000000","canChangeBackground":false}],"id":"onboarding","root":true,"$title":"Start","$position":{"top":"362px","left":"1091px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"fallback":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"9555f9fe-a3cd-4341-b70d-96c33df4dccc","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"0ecb38fc-e477-4283-9820-ccc652fbf38c","typeOfStateId":"state","$connId":"con_8","$id":"e29cddc5-e11d-4d66-afdd-6686599a3349","conditions":[{"source":"context","comparison":"contains","values":["(call api)"],"variable":"state.previous.name"}],"$invalid":false},{"stateId":"58ee689d-8acb-4c14-aa64-1531a129d914","typeOfStateId":"state","$connId":"con_13","$id":"8b9aa4bf-74bc-41ab-aa44-6e24bdf43fb7","conditions":[{"source":"context","comparison":"contains","values":["(choose)"],"variable":"state.previous.name"},{"values":["AMBIGUO"],"source":"context","comparison":"equals","variable":"objUserChoose@name"}],"$invalid":false},{"stateId":"error","typeOfStateId":"state","$connId":"con_18","$id":"d5fb63ce-c3b1-482d-8c59-4adce3309157","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"isAiGenerated":false,"$tags":[],"id":"fallback","$title":"Exceptions","$position":{"top":"376px","left":"2213px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"welcome":{"$contentActions":[{"action":{"$id":"919ea443-acae-4da2-8f09-78c3231f071c","$typeOfContent":"","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000001","type":"text/plain","content":"Olá, espero que esteja tudo.\nSou a Lora responsável por passar os valores da Take. ","metadata":{}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000001","type":"text/plain","content":"Olá, espero que esteja tudo.\nSou a Lora responsável por passar os valores da Take. "},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"a9af92bf-1011-45a2-b5e7-4fa1d0cb99e6","$typeOfContent":"text","type":"SendMessage","settings":{"id":"f3ec62dd-3559-4f54-bf10-152251920f69","type":"text/plain","content":"Mesmo eu sendo um robô e\nnão tendo consciência sobre o que é valores, posso te ajudar de alguma forma.","metadata":{}},"$cardContent":{"document":{"id":"f3ec62dd-3559-4f54-bf10-152251920f69","type":"text/plain","content":"Mesmo eu sendo um robô e\nnão tendo consciência sobre o que é valores, posso te ajudar de alguma forma."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"805ae7b4-f3ad-4970-a96c-d530fba90e3c","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"a64a7009-93cb-432c-811a-960292955920","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":"4000"},"metadata":{}},"$cardContent":{"document":{"id":"a64a7009-93cb-432c-811a-960292955920","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":"4000"}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"2187c158-a11d-4190-903c-99b7fb93f84c","$typeOfContent":"text","type":"SendMessage","settings":{"id":"d1d67b24-f609-438f-8e60-80364ee1ab85","type":"text/plain","content":"Vamos lá...","metadata":{}},"$cardContent":{"document":{"id":"d1d67b24-f609-438f-8e60-80364ee1ab85","type":"text/plain","content":"Vamos lá..."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"0880fce4-c018-4897-9721-98155fcbfbf4","$typeOfContent":"text","type":"SendMessage","settings":{"id":"244c482a-636a-4f36-8501-e2f08e0dc459","type":"text/plain","content":"A cultura Take tem como base 6 valores que são:","metadata":{}},"$cardContent":{"document":{"id":"244c482a-636a-4f36-8501-e2f08e0dc459","type":"text/plain","content":"A cultura Take tem como base 6 valores que são:"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"3060082e-04f1-4afe-a1fe-9a410a0b946f","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/vnd.lime.collection+json","rawContent":"{{objCarousel}}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"62ab604c-4fff-4242-8a71-55af046c643a","type":"text/plain","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"caaa759d-c390-454d-8a97-06f542b25bc7","typeOfStateId":"state","$connId":"con_23","$id":"ea5ee340-44ec-4dfb-b059-57ff0bf77e75","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"36c73394-33c5-48cf-a50c-4b214e45a02c","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"objCarouselContent\"","$invalid":false,"settings":{"function":"run","source":"function run() {\r\n  const orderedCarouselContentsView = [];\r\n  orderedCarouselContentsView.push(\r\n    new CarouselValue(\r\n      \"Take.Be\",\r\n      \"Pessoas em 1º lugar\",\r\n      \"https://ik.imagekit.io/skd3rn3jjy51/Blip%20values/Blip.Be%20(1)_YIIArg5KM.png?updatedAt=1707833169006\",\r\n      \"💙 Saber mais\"\r\n    )\r\n  );\r\n\r\n  orderedCarouselContentsView.push(\r\n    new CarouselValue(\r\n      \"Take.Team\",\r\n      \"Em nosso time, cada pessoa dá o seu melhor\",\r\n      \"https://ik.imagekit.io/skd3rn3jjy51/Blip%20values/blip.team_3dCRt8XjG.png?updatedAt=1707833695921\",\r\n      \"🏳️ Saber mais\"\r\n    )\r\n  );\r\n\r\n  orderedCarouselContentsView.push(\r\n    new CarouselValue(\r\n      \"Take.Execellence\",\r\n      \"Excelente é o nosso ponto de partida\",\r\n      \"https://ik.imagekit.io/skd3rn3jjy51/Blip%20values/Blip.Excellence_1N9Phtdp4p.png?updatedAt=1707833695847\",\r\n      \"⭐ Saber mais\"\r\n    )\r\n  );\r\n\r\n  orderedCarouselContentsView.push(\r\n    new CarouselValue(\r\n      \"Take.Charge\",\r\n      \"Apropriar-se para fazer a diferença\",\r\n      \"https://ik.imagekit.io/skd3rn3jjy51/Blip%20values/blip.charge_CGRBgyuGh.png?updatedAt=1707833696017\",\r\n      \"⚡ Saber mais\"\r\n    )\r\n  );\r\n\r\n  orderedCarouselContentsView.push(\r\n    new CarouselValue(\r\n      \"Take.Simple\",\r\n      \"Simplicidade é o último grau de sofisticação\",\r\n      \"https://ik.imagekit.io/skd3rn3jjy51/Blip%20values/blip.simple_pBWYPVNRxb.png?updatedAt=1707833695844\",\r\n      \"🎯 Saber mais\"\r\n    )\r\n  );\r\n\r\n  orderedCarouselContentsView.push(\r\n    new CarouselValue(\r\n      \"Take.Higher\",\r\n      \"Pensar grande e ir além\",\r\n      \"https://ik.imagekit.io/skd3rn3jjy51/Blip%20values/blip.higher_lEeugESAh.png?updatedAt=1707833695928\",\r\n      \"🚀 Saber mais\"\r\n    )\r\n  );\r\n\r\n  orderedCarouselContentsView.push(\r\n    new CarouselValue(\r\n      \"Desafio\",\r\n      \"----\",\r\n      \"https://ik.imagekit.io/skd3rn3jjy51/Blip%20values/challenge_jtlPOV8V0W.png?updatedAt=1707831930169\",\r\n      \"Fazer desafio\"\r\n    )\r\n  );\r\n\r\n  return orderedCarouselContentsView;\r\n}\r\n\r\nfunction CarouselValue(name, description, urlImage, buttonText) {\r\n  this.name = name;\r\n  this.description = description;\r\n  this.urlImage = urlImage;\r\n  this.buttonText = buttonText;\r\n}\r\n","inputVariables":[],"outputVariable":"objCarouselContent","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"aec596ac-ef15-41de-a3aa-123e4da36c0d","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"objCarousel\"","$invalid":false,"settings":{"function":"run","source":"function run(orderedCarouselContentsView) {\n  orderedCarouselContentsView = JSON.parse(orderedCarouselContentsView);\n\n  const menu = CreateCarousel();\n  orderedCarouselContentsView.forEach((option) => {\n    menu\n      .addCard(option.name, option.description, option.urlImage)\n      .withOptions(option.buttonText);\n  });\n\n  return JSON.stringify(menu);\n}\n\n// funcoes desse tipo, geralmente ficariam armazendas nos recursos do roteador. Deixei dessa forma pra ficar mais simples a entrega.\nfunction CreateCarousel() {\n  const itemType = \"application/vnd.lime.document-select+json\";\n  const items = [];\n\n  const addCard = (cardTitle, cardSubTitle, imageUrl) => {\n    const header = new Header(\n      MIME_TYPES.MEDIA_LINK,\n      new HeaderValue(cardTitle, cardSubTitle, IMAGE_TYPES.PNG, imageUrl)\n    );\n\n    const options = [];\n    const withOptions = (optionText) => {\n      return options.push({\n        label: new Option(MIME_TYPES.TEXT, optionText),\n      });\n    };\n\n    const item = { header, options };\n    items.push(item);\n\n    return { withOptions };\n  };\n\n  return { itemType, items, addCard };\n}\n\nconst MIME_TYPES = {\n  MEDIA_LINK: \"application/vnd.lime.media-link+json\",\n  TEXT: \"text/plain\",\n};\n\nconst IMAGE_TYPES = {\n  PNG: \"image/png\",\n};\n\nfunction Header(mimeType, HeaderValue) {\n  this.type = mimeType;\n  this.value = HeaderValue;\n}\n\nfunction HeaderValue(cardTitle, cardSubTitle, imageType, imageUrl) {\n  this.title = cardTitle;\n  this.text = cardSubTitle;\n  this.type = imageType;\n  this.uri = imageUrl;\n}\n\nfunction Option(mimeType, OptionValue) {\n  this.type = mimeType;\n  this.value = OptionValue;\n}\n","inputVariables":["objCarouselContent"],"outputVariable":"objCarousel","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-e4e18bfc-2070-4de5-89ad-5a748b4c778c","label":"ExecuteScript","background":"#FF961E","canChangeBackground":false},{"id":"blip-tag-34bd8385-1049-4a6a-9e3c-84d385c90007","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"welcome","$title":"[VL1.0] - Welcome","$position":{"top":"507px","left":"1091px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"error":{"$contentActions":[{"action":{"$id":"7cc93b37-21be-4d78-8bec-5e3e9545b087","$typeOfContent":"","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000002","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"action":{"$id":"47a4a87e-768a-4f8d-9a3c-88854cc66dd5","$typeOfContent":"","type":"SendMessage","settings":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"$cardContent":{"document":{"id":"00000000-0000-0000-0000-000000000003","type":"text/plain","content":"Desculpe, não consegui entender!"},"editable":true,"deletable":true,"position":"left","editing":false}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"4e4f597e-1f55-4e16-abb9-68914241912e","type":"text/plain","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"onboarding","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-bbd9d62b-5a6d-4977-be79-a4534fb4f294","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"error","$title":"Default error","$position":{"top":"222px","left":"2213px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"caaa759d-c390-454d-8a97-06f542b25bc7":{"$contentActions":[{"input":{"bypass":false,"$cardContent":{"document":{"id":"8fa51343-e5bc-4b78-8a29-af2e6d6d6c64","type":"text/plain","textContent":"User input","content":"User input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"21229967-ac6a-40ef-909c-a566af2d1d8e","typeOfStateId":"state","$connId":"con_28","$id":"75ff6328-42fc-4c44-86e8-d0bc060b88ab","conditions":[{"source":"context","comparison":"equals","values":["true"],"variable":"objUserChoose@isValid"}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[{"$id":"238a13fb-6da9-4486-977f-bcb0d4a31cc7","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"objUserChoose\"","$invalid":false,"settings":{"function":"run","source":"function run(userInputContent, orderedCarouselContentsView) {\n  orderedCarouselContentsView = JSON.parse(orderedCarouselContentsView);\n\n  // added generic option in case user choose ambiguite 'saber mais'\n  orderedCarouselContentsView.push({\n    name: \"Ambiguo\",\n    description: \"Usuário digitou apenas 'saber mais' sem especificar\",\n    buttonText: \"Saber mais\",\n  });\n\n  const options = orderedCarouselContentsView.map((option) => {\n    return new Option(option.name, option.description, option.buttonText);\n  });\n\n  const userChoose = Processchoose(userInputContent, options);\n\n  if (userChoose.name === \"AMBIGUO\") {\n    return {\n      ...userChoose,\n      isValid: false,\n    };\n  }\n\n  return userChoose;\n}\n\nfunction Processchoose(userInput, arrOptions) {\n  const encodedUserInput = encodeURI(userInput.toUpperCase());\n  const encodedNormalizedOptions = arrOptions.map((option) => {\n    return {\n      ...option,\n      name: option.name.toUpperCase(),\n      description: option.description.toUpperCase(),\n      choose: encodeURI(option.choose.toUpperCase()),\n    };\n  });\n\n  const choose = encodedNormalizedOptions.filter(\n    (option) => option.choose === encodedUserInput\n  );\n\n  if (choose.length == 0) {\n    return new Option(\n      \"Input inesperado\",\n      \"Usuário enviou um input não mapeado\",\n      null,\n      false\n    );\n  }\n\n  return choose[0];\n}\n\nfunction Option(name, description, choose, isValid = true) {\n  this.name = name;\n  this.description = description;\n  this.choose = choose;\n  this.isValid = isValid;\n}","inputVariables":["input.content","objCarouselContent"],"outputVariable":"objUserChoose","LocalTimeZoneEnabled":false},"conditions":[]}],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-59ad55a6-2cf5-42c7-9ca0-09882ac914eb","label":"ExecuteScript","background":"#FF961E","canChangeBackground":false},{"id":"blip-tag-958e370c-b219-47ac-a5a8-17c855058010","label":"UserInput","background":"#000000","canChangeBackground":false}],"id":"caaa759d-c390-454d-8a97-06f542b25bc7","root":false,"$title":"[VL1.1] - (choose) a value","$position":{"top":"687px","left":"1091px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"21229967-ac6a-40ef-909c-a566af2d1d8e":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"51758d3a-1698-4bce-a8db-c39aaba80c1a","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"d872ebcb-1b52-44b3-8673-09c0ec2528ce","typeOfStateId":"state","$connId":"con_33","$id":"f741c04c-ab83-4aad-ac87-9c071a28a92b","conditions":[{"source":"context","comparison":"equals","values":["DESAFIO"],"variable":"objUserChoose@name"}],"$invalid":false},{"stateId":"5f1bb797-143f-4d87-94d0-ec443c39b133","typeOfStateId":"state","$connId":"con_38","$id":"6a7aa48c-b234-453c-8509-13f3ddec255e","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[],"id":"21229967-ac6a-40ef-909c-a566af2d1d8e","root":false,"$title":"[VL1.2] - What was user input","$position":{"top":"919px","left":"1091px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"b53f7924-32a5-498d-9c23-e0c6da551dfe":{"$contentActions":[{"action":{"$id":"c40af60b-c08c-466f-9b46-2b1156744fe9","$typeOfContent":"text","type":"SendMessage","settings":{"id":"3c7b6525-e3e5-48e5-b2ae-eda3f6761b45","type":"text/plain","content":"Conforme solicitado no e-mail\nenviado, o resultado do desafio\nestá disponível abaixo...","metadata":{}},"$cardContent":{"document":{"id":"3c7b6525-e3e5-48e5-b2ae-eda3f6761b45","type":"text/plain","content":"Conforme solicitado no e-mail\nenviado, o resultado do desafio\nestá disponível abaixo..."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"fcfed91b-1fb7-4b9b-9e36-3dcf6a860179","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"{{objCarousel@mimeType}}","rawContent":"{{objCarousel@content}}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"aa075569-16ee-456f-8f54-4166593da3e9","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"8bb4b68b-28f8-44e3-840f-5a28e8abf4a7","typeOfStateId":"state","$connId":"con_43","$id":"f405a06a-350b-4a3b-84ae-8f6170058517","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"9bc74031-3437-4ec9-b6ee-33246ff0099e","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"objCarouselOpts\"","$invalid":false,"settings":{"function":"run","source":"function run(apiResponse) {\n  apiResponse = JSON.parse(apiResponse);\n\n  const orderedCarouselContentsView = [];\n\n  apiResponse.results.forEach((repository) => {\n    orderedCarouselContentsView.push(\n      new CarouselValue(\n        repository.name,\n        repository.description,\n        repository.avatar,\n        null\n      )\n    );\n  });\n\n  return orderedCarouselContentsView;\n}\n\nfunction CarouselValue(name, description, urlImage, buttonText) {\n  this.name = name;\n  this.description = description;\n  this.urlImage = urlImage;\n  this.buttonText = buttonText;\n}","inputVariables":["apiResponse"],"outputVariable":"objCarouselOpts","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"a4d3aba1-4251-4ffe-be03-198847d0a184","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"objCarousel\"","$invalid":false,"settings":{"function":"run","source":"function run(arrCarouselOpts) {\n  arrCarouselOpts = JSON.parse(arrCarouselOpts);\n\n  if (arrCarouselOpts.length == 0) {\n    return JSON.stringify({\n      mimeType: \"application/vnd.lime.collection+json\",\n      content: {\n        itemType: \"text/plain\",\n        items: [\n          \"Não encontrei nenhum repositório com a linguagem informada.\",\n          \"Se você desejar, tente informar uma linguagem diferente para eu fazer uma nova tentativa\"\n        ],\n      }\n    });\n  }\n\n  const menu = CreateCarousel();\n  arrCarouselOpts.forEach((option) => {\n    menu\n      .addCard(option.name, option.description, option.urlImage)\n  });\n\n  return JSON.stringify({\n    mimeType: \"application/vnd.lime.collection+json\",\n    content: menu\n  });\n}\n\n// funcoes desse tipo, geralmente ficariam armazendas nos recursos do roteador. Deixei dessa forma pra ficar mais simples a entrega.\nfunction CreateCarousel() {\n  const itemType = \"application/vnd.lime.document-select+json\";\n  const items = [];\n\n  const addCard = (cardTitle, cardSubTitle, imageUrl) => {\n    const header = new Header(\n      MIME_TYPES.MEDIA_LINK,\n      new HeaderValue(cardTitle, cardSubTitle, IMAGE_TYPES.PNG, imageUrl)\n    );\n\n    const options = [];\n    const withOptions = (optionText) => {\n      return options.push({\n        label: new Option(MIME_TYPES.TEXT, optionText),\n      });\n    };\n\n    const item = { header, options };\n    items.push(item);\n\n    return { withOptions };\n  };\n\n  return { itemType, items, addCard };\n}\n\nconst MIME_TYPES = {\n  MEDIA_LINK: \"application/vnd.lime.media-link+json\",\n  TEXT: \"text/plain\",\n};\n\nconst IMAGE_TYPES = {\n  PNG: \"image/png\",\n};\n\nfunction Header(mimeType, HeaderValue) {\n  this.type = mimeType;\n  this.value = HeaderValue;\n}\n\nfunction HeaderValue(cardTitle, cardSubTitle, imageType, imageUrl) {\n  this.title = cardTitle;\n  this.text = cardSubTitle;\n  this.type = imageType;\n  this.uri = imageUrl;\n}\n\nfunction Option(mimeType, OptionValue) {\n  this.type = mimeType;\n  this.value = OptionValue;\n}\n","inputVariables":["objCarouselOpts"],"outputVariable":"objCarousel","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-b25ef428-d2a5-41bf-aecb-540f1a08313f","label":"ExecuteScript","background":"#FF961E","canChangeBackground":false},{"id":"blip-tag-b57e7efe-ecbd-44f1-9447-b578cb5790f5","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"b53f7924-32a5-498d-9c23-e0c6da551dfe","root":false,"$title":"[VL1.3.1] - User want know about challenge","$position":{"top":"1210px","left":"1368px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"5f1bb797-143f-4d87-94d0-ec443c39b133":{"$contentActions":[{"action":{"$id":"e84ab959-700f-439a-b02d-940f8aa8d9e3","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/vnd.lime.collection+json","rawContent":"{{strValueDescription}}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"02344e51-92b5-4a81-82f3-7a7fdaa2bb2f","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"8bb4b68b-28f8-44e3-840f-5a28e8abf4a7","typeOfStateId":"state","$connId":"con_48","$id":"ac1d9f25-fcde-4908-a67a-611955903b05","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"b5a9e413-bc1e-4ddd-8fda-b4cfbd2d42cc","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"strValueDescription\"","$invalid":false,"settings":{"function":"run","source":"function run(objUserChoose) {\n  objUserChoose = JSON.parse(objUserChoose);\n\n  const dictValues = {\n    \"TAKE.BE\": [\n      \"A Take é feita por pessoas e para pessoas. Nossas relações são transparentes e humanizadas.\",\n      \"Cada cliente, cada parceiro e cada Take.Ser é valorizado e respeitado em sua individualidade e está presente em cada bit de nossa empresa.\",\n    ],\n    \"TAKE.TEAM\": [\n      \"Sabemos que o que faz uma equipe incrível são pessoas incríveis em cooperação. Assim, cada Take.ser busca cumprir sua parte para garantir a vitória do time.\",\n    ],\n    \"TAKE.EXECELLENCE\": [\n      \"Com nosso espírito geek e nossa disposição para aprender e crescer, buscamos estar sempre um passo a frente e superarmos os mais exigentes padrões.\",\n    ],\n    \"TAKE.CHARGE\": [\n      \"Apostamos em profissionais que chamam a responsabilidade para si e que, sem medo de ousar, transformem o mundo a sua volta, com muita competência e criatividade.\",\n    ],\n    \"TAKE.SIMPLE\": [\"Mantemos o foco no essencial. Menos é mais.\"],\n    \"TAKE.HIGHER\": [\n      \"Não temos medo de sonhar grande, pois sabemos que temos talento e determinação para realizar coisas incríveis!\",\n    ],\n  };\n\n  const instruction = objUserChoose.name.toUpperCase();\n\n  if (!instruction.startsWith(\"TAKE\")) {\n    instruction = \"TAKE.\" + instruction;\n  }\n\n  return {\n    itemType: \"text/plain\",\n    items: dictValues[instruction],\n  };\n}","inputVariables":["objUserChoose"],"outputVariable":"strValueDescription","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-a52e4cd7-48fb-4c26-95f3-283d16c79442","label":"ExecuteScript","background":"#FF961E","canChangeBackground":false}],"id":"5f1bb797-143f-4d87-94d0-ec443c39b133","root":false,"$title":"[VL1.2.1] - Users want knows about values","$position":{"top":"1098px","left":"882px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"8bb4b68b-28f8-44e3-840f-5a28e8abf4a7":{"$contentActions":[{"action":{"$id":"1a827f00-8b28-483f-82f8-a333b8d26dcf","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"ebb07642-b64f-4a8a-b5d5-cd25d4997ac8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":"4000"},"metadata":{}},"$cardContent":{"document":{"id":"ebb07642-b64f-4a8a-b5d5-cd25d4997ac8","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":"4000"}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"b2ddffcb-d14f-4487-b719-cb31bf58aa89","$typeOfContent":"raw-content","type":"SendRawMessage","settings":{"metadata":{},"type":"application/vnd.lime.select+json","rawContent":"{{objQuickReply}}"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"42cc2ac8-fd72-4f3b-9cda-f8492d429cf5","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[{"stateId":"c4686a20-6d27-4f98-9490-3fb853d3c464","typeOfStateId":"state","$connId":"con_53","$id":"bd2a4f17-c594-4070-840d-8d3741927bb3","conditions":[{"source":"input","comparison":"exists","values":[]}],"$invalid":false}],"$enteringCustomActions":[{"$id":"4557439d-9cf8-46bd-a7c2-87f8e29d77e4","$typeOfContent":"","type":"ExecuteScript","$title":"Update \"objCarouselContent\"","$invalid":false,"settings":{"function":"run","source":"function run(orderedCarouselContentsView) {\n  orderedCarouselContentsView = JSON.parse(orderedCarouselContentsView);\n\n  const emojis = {\n    Be: \"💙 \",\n    Team: \"🏳️ \",\n    Execellence: \"⭐ \",\n    Charge: \"⚡ \",\n    Simple: \"🎯 \",\n    Higher: \"🚀 \",\n    Desafio: \"💡 \",\n  };\n\n  const newCarouselUpdated = orderedCarouselContentsView.map((opt) => {\n    let newName = opt.name.split(\".\")[1];\n    if (!newName) {\n      newName = opt.name;\n    }\n\n    return {\n      ...opt,\n      name: newName,\n      buttonText: emojis[newName] + newName,\n    };\n  });\n\n  return newCarouselUpdated;\n}","inputVariables":["objCarouselContent"],"outputVariable":"objCarouselContent","LocalTimeZoneEnabled":false},"conditions":[]},{"$id":"802c7ca6-3881-4cc4-b9ac-45e7e5a5ad39","$typeOfContent":"","type":"ExecuteScript","$title":"Process \"objQuickReply\"","$invalid":false,"settings":{"function":"run","source":"function run(objCarouselContent) {\n  objCarouselContent = JSON.parse(objCarouselContent);\n\n  const menuQuickReply = MakeQuick(\n    \"Se quiser saber mais sobre outros valores é só falar\"\n  );\n\n  objCarouselContent.forEach((option) => {\n    menuQuickReply.addOption(option.buttonText);\n  });\n\n  return JSON.stringify(menuQuickReply);\n}\n\nfunction MakeQuick(title) {\n  const scope = \"immediate\";\n  const text = title;\n  const options = [];\n\n  const addOption = (optionName) => {\n    return options.push({ text: optionName });\n  };\n\n  return { scope, text, options, addOption };\n}","inputVariables":["objCarouselContent"],"outputVariable":"objQuickReply","LocalTimeZoneEnabled":false},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-251d2a06-789c-4241-89f0-36955be6a99b","label":"ExecuteScript","background":"#FF961E","canChangeBackground":false},{"id":"blip-tag-57682ac0-ca56-4d1b-aaee-a27620fba3e8","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"8bb4b68b-28f8-44e3-840f-5a28e8abf4a7","root":false,"$title":"[VL1.4] - Resume conversation","$position":{"top":"1313px","left":"1097px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"d872ebcb-1b52-44b3-8673-09c0ec2528ce":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"2d22c27e-f4e5-4487-93ec-d216191c54e6","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false,"$$hashKey":"object:3359"}],"$conditionOutputs":[{"stateId":"b53f7924-32a5-498d-9c23-e0c6da551dfe","typeOfStateId":"state","$connId":"con_58","$id":"28b4e9bf-6a75-4acc-8a3d-760e4712be39","conditions":[{"source":"context","comparison":"equals","values":["200"],"variable":"apiStatus","$$hashKey":"object:3374"}],"$invalid":false,"$$hashKey":"object:3361"}],"$enteringCustomActions":[{"$id":"7c6e3c01-a325-4531-ac7a-46f8984281bf","$typeOfContent":"","type":"ProcessHttp","$title":"Process \"apiResponse\"","$invalid":false,"settings":{"headers":{},"method":"GET","uri":"{{objSkillSetup@apiUrl}}/repository/takenet/list?language=c%23","responseStatusVariable":"apiStatus","responseBodyVariable":"apiResponse"},"conditions":[]}],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[{"id":"blip-tag-3d20c8d6-b4ad-45dc-98ee-5697fe7e3f91","label":"ProcessHttp","background":"#7762E3","canChangeBackground":false}],"id":"d872ebcb-1b52-44b3-8673-09c0ec2528ce","root":false,"$title":"[VL1.3] - (call api) Repository","$position":{"top":"1027px","left":"1368px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"c4686a20-6d27-4f98-9490-3fb853d3c464":{"$contentActions":[{"input":{"bypass":true,"$cardContent":{"document":{"id":"57b316f2-70af-42a2-8e23-551af3e2db56","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"caaa759d-c390-454d-8a97-06f542b25bc7","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[],"id":"c4686a20-6d27-4f98-9490-3fb853d3c464","root":false,"$title":"[JUMP] -> [VL1.1] - Choose a value","$position":{"top":"1485px","left":"1097px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"0ecb38fc-e477-4283-9820-ccc652fbf38c":{"$contentActions":[{"action":{"$id":"92c8cdae-3c73-4ca9-9df3-21e42bc7c500","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"1e87da87-885d-426e-b239-d75d750dcd1c","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"1e87da87-885d-426e-b239-d75d750dcd1c","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"24517057-8d60-4aa8-9445-1e482ff42193","$typeOfContent":"text","type":"SendMessage","settings":{"id":"e9c3c84a-8a5f-4a24-b4d6-07ebd8c9deaf","type":"text/plain","content":"Ops... Tive um probleminha enquanto eu tentava fazer a busca pelos repositórios. Vamos tentar novamente?","metadata":{}},"$cardContent":{"document":{"id":"e9c3c84a-8a5f-4a24-b4d6-07ebd8c9deaf","type":"text/plain","content":"Ops... Tive um probleminha enquanto eu tentava fazer a busca pelos repositórios. Vamos tentar novamente?"},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"7913478e-1531-4f68-acd0-db107f0786ab","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"8bb4b68b-28f8-44e3-840f-5a28e8abf4a7","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-3450fc3b-0e64-49b0-8aaf-3a67017d52e0","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"0ecb38fc-e477-4283-9820-ccc652fbf38c","root":false,"$title":"[Ex2.0] API Exception","$position":{"top":"508px","left":"2389px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false},"58ee689d-8acb-4c14-aa64-1531a129d914":{"$contentActions":[{"action":{"$id":"fc23a84d-15a3-490b-8cb0-cb146f3ad5ea","$typeOfContent":"chat-state","type":"SendMessage","settings":{"id":"e22ea881-b15a-42a7-b513-5da5a457367f","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"$cardContent":{"document":{"id":"e22ea881-b15a-42a7-b513-5da5a457367f","type":"application/vnd.lime.chatstate+json","content":{"state":"composing","interval":1000}},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"action":{"$id":"f4922fbe-529b-4da0-bcd5-18ae354e73ce","$typeOfContent":"text","type":"SendMessage","settings":{"id":"71b4f1a5-c10c-4b58-96f4-c92e20ea9c53","type":"text/plain","content":"Perfeito, entendi que você deseja saber mais sobre nossos valores. Mas quais deles? Selecione abaixo.","metadata":{}},"$cardContent":{"document":{"id":"71b4f1a5-c10c-4b58-96f4-c92e20ea9c53","type":"text/plain","content":"Perfeito, entendi que você deseja saber mais sobre nossos valores. Mas quais deles? Selecione abaixo."},"editable":true,"deletable":true,"position":"left"}},"$invalid":false},{"input":{"bypass":true,"$cardContent":{"document":{"id":"c162c51a-3f72-4dc4-be66-26753115d870","type":"text/plain","textContent":"User input","content":"User Input"},"editable":false,"deletable":true,"position":"right","editing":false},"$invalid":false},"$invalid":false}],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"8bb4b68b-28f8-44e3-840f-5a28e8abf4a7","$invalid":false,"typeOfStateId":"state"},"isAiGenerated":false,"$tags":[{"id":"blip-tag-5365730f-a905-4498-a18d-9c61947f1304","label":"SendMessage","background":"#EE82EE","canChangeBackground":false}],"id":"58ee689d-8acb-4c14-aa64-1531a129d914","root":false,"$title":"[Ex.1.0] Desambuiation","$position":{"top":"501px","left":"2030px"},"$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}},"globalActions":{"$contentActions":[],"$conditionOutputs":[],"$enteringCustomActions":[],"$leavingCustomActions":[],"$inputSuggestions":[],"$defaultOutput":{"stateId":"fallback","$invalid":false},"isAiGenerated":false,"$tags":[],"id":"global-actions","$invalidContentActions":false,"$invalidOutputs":false,"$invalidCustomActions":false,"$invalid":false}}